<p-dialog
  [(visible)]="visible"
  [modal]="true"
  [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
  [style]="{ width: '50vw' }"
  [draggable]="false"
  [resizable]="false"
  (onHide)="onHide()"
  [showHeader]="false"
  styleClass="p-dialog-confirm-delete"
  appendTo="body"
  [dismissableMask]="true"
>
  <ng-template pTemplate="content">
    <!-- Edit button -->
    <div class="flex justify-content-end">
      <p-button severity="secondary" styleClass="editButton"
      (onClick)="editHabit()"

      > Edit </p-button>
    </div>

    <!-- Daily goal -->
    <div
      class="daily-goal flex flex-column justify-content-center align-items-center py-2"
    >
      <div class="font-semibold">Daily Goal:</div>
      <div>
        {{ currentHabit.goal }}
        {{
          currentHabit.goalType === "custom"
            ? currentHabit.customGoalType
            : currentHabit.goalType
        }}
      </div>
    </div>
    <div
      class="knob-container flex justify-content-between align-items-center my-4"
    >
      <div class="button-group left">
        <p-button
          styleClass="mb-2 button-standard font-semibold text-xs	"
          [rounded]="true"
          severity="danger"
          [outlined]="true"
          (click)="decreaseKnobValue(1)"
        >
          -
        </p-button>
        <p-button
          *ngIf="currentHabit.goal > 10 && currentHabit.goal < 2000"
          styleClass="mb-2 button-standard font-semibold	text-xs"
          [rounded]="true"
          severity="danger"
          [outlined]="true"
          (click)="decreaseKnobValue(10)"
        >
          -10
        </p-button>
        <p-button
          *ngIf="currentHabit.goal > 100"
          styleClass="mb-2 button-standard font-semibold	text-xs"
          [rounded]="true"
          severity="danger"
          [outlined]="true"
          (click)="decreaseKnobValue(100)"
        >
          -100
        </p-button>
        <p-button
          *ngIf="currentHabit.goal > 1000"
          styleClass="mb-2 button-standard font-semibold	text-xs"
          [rounded]="true"
          severity="danger"
          [outlined]="true"
          (click)="decreaseKnobValue(1000)"
        >
          -1000
        </p-button>
      </div>
      <div class="flex flex-column align-items-center">
        <p-knob
          *ngIf="currentHabit"
          [(ngModel)]="currentKnobValue"
          (onChange)="onKnobChange($event)"
          [valueColor]="knobColor"
          [size]="150"
          [max]="
            currentKnobValue > currentHabit.goal
              ? currentKnobValue
              : currentHabit.goal
          "
        >
        </p-knob>

        <!-- reset -->
        <p-button
          styleClass="button-standard font-semibold	text-xs"
          [rounded]="true"
          severity="danger"
          [outlined]="true"
          (click)="resetKnobValue()"
        >
          <span class="material-icons">clear</span>
        </p-button>
      </div>

      <div class="button-group right">
        <p-button
          styleClass="mb-2 button-standard font-semibold	text-xs"
          [rounded]="true"
          severity="danger"
          [outlined]="true"
          (click)="increaseKnobValue(1)"
        >
          +
        </p-button>
        <p-button
          *ngIf="currentHabit.goal > 10 && currentHabit.goal < 2000"
          styleClass="mb-2 button-standard font-semibold	text-xs"
          [rounded]="true"
          severity="danger"
          [outlined]="true"
          (click)="increaseKnobValue(10)"
        >
          +10
        </p-button>
        <p-button
          *ngIf="currentHabit.goal > 100"
          styleClass="mb-2 button-standard font-semibold	text-xs"
          [rounded]="true"
          severity="danger"
          [outlined]="true"
          (click)="increaseKnobValue(100)"
        >
          +100
        </p-button>
        <p-button
          *ngIf="currentHabit.goal > 1000"
          styleClass="mb-2 button-standard font-semibold	text-xs"
          [rounded]="true"
          severity="danger"
          [outlined]="true"
          (click)="increaseKnobValue(1000)"
        >
          +1000
        </p-button>
      </div>
    </div>
  </ng-template>
</p-dialog>
